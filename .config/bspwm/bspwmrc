#!/bin/bash
# bspwmrc
set -a

bspc config borderless_monocle   true &
bspc config gapless_monocle      true &
bspc config focus_follows_pointer true &
bspc config click_to_focus true &
bspc config remove_unplugged_monitors		true &
bspc config remove_disabled_monitors		true &

# cursor settings
bspc config pointer_modifier mod4 &
bspc config pointer_action1 move &
bspc config pointer_action2 resize_side &
bspc config pointer_action3 resize_corner &

# border colours
bspc config focused_border_color		"#b48ead" &
bspc config active_border_color			"#96b5b4" &
bspc config normal_border_color			"#8fa1b3" &
bspc config presel_feedback_color		"#b48ead" &

bspc config border_width         4 &
bspc config window_gap          15 &
bspc config -m DVI-I-1 top_padding 0 &
bspc config -m DP-1 top_padding 40 &
bspc config -m HDMI-0 top_padding 0 &
bspc config split_ratio          0.5 &

# set up desktops
bspc monitor DP-1 -d 1 2 3 4 5 &
bspc monitor DVI-I-1 -d portrait &
bspc monitor HDMI-0 -d tv &

# application specific rules

# wine desktop
bspc rule -a explorer.exe desktop=4 &
# floating
bspc rule -a Pinentry state=floating &
bspc rule -a Library state=floating &
# libreoffice doesn't behave after opening a new file
bspc rule -a libreoffice-draw state=tiled &
bspc rule -a libreoffice-draw state=tiled &
bspc rule -a libreoffice-impress state=tiled &
bspc rule -a libreoffice-writer state=tiled &
bspc rule -a Kodi desktop=tv state=fullscreen &

# set up panel
kill -s TERM $(cat /tmp/panel-pid) 2>/dev/null & ~/.config/lemonbar/panel &
# the fuck?
sleep 0.1 && bspc config -m DVI-I-1 top_padding 0 &